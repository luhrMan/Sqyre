- name: "After dungeon setup"
  actions:
    - type: loop
      uid: ""
      name: root
      loopcount: 1
      subactions:
        - type: move
          uid: ".1"
          x: 1280
          y: 60
        - type: click
          uid: ".2"
          button: left
        - type: image-search
          uid: ".3"
          name: Find all treasures
          search-area: player-inventory-merchant
          search-targets:
            - Glimmer Bangle
            - Shine Bangle
            - Triple Gem Bangle
          subactions:
            - type: move
              uid: ".3.1"
              x: -1
              y: -1
            - type: text-search
              uid: ".3.2"
              search-area: item-description
              search-target: Legendary
              subactions:
                - type: key
                  uid: ".3.2.1"
                  key: shift
                  state: down
                - type: wait
                  uid: ".3.2.2"
                  time: 20
                - type: key
                  uid: ".3.2.3"
                  key: shift
                  state: up
            - type: click
              uid: ".3.3"
              button: left
        - type: move
          uid: ".4"
          x: 1280
          y: 60